# .cursorrules
rules:
  - "Always write Python in a clean, human-readable style (readability > cleverness)."
  - "Ideally, functions should be 7 lines of code or fewer whenever possible."
  - "Each function must have a single clear responsibility."
  - "Within a module, keep separation of duties strict: orchestration modules (e.g., bench_backends.py) only parse inputs and call dedicated helpers. No formatting, reporting, or persistence code belongs there."
  - "Console formatting/printing must live under src/console/, and Markdown/reporting must live under src/mdreport/."
  - "Orchestration files must not contain: print calls, Markdown assembly or mdreport.Report usage, or any JSON/IO writing beyond delegating to a runner."
  - "Orchestration files may only import: their argument parser (bench_args) and a single runner entrypoint (bench_runner.run_bench_flow)."
  - "Avoid try/except import fallbacks in project code. Use explicit, absolute imports and fix paths instead of defensive imports."
  - "No side effects at import time; work should happen inside main()/explicit functions."
  - "Use descriptive, intention-revealing names (no cryptic abbreviations)."
  - "Code should read like simple English sentences."
  - "Prefer small helper functions over long, complex logic."
  - "Avoid deeply nested control flow; favor early returns and clarity."
  - "Code itself should be self-explanatory."
  - "Even when code is not self-explanatory, comment elaborately. Always add docstrings"
  - "Make sure each function is testable."
  - "Add unit tests for each function."
  - "Follow PEP 8 conventions unless they conflict with readability."
  - "Break large tasks into a series of small, composable functions."
  - "Default Python environment for this repo: ~/venvs/pandas_pyspark"
  - "Assume the above venv is active when running scripts, tests, and tools."
  - "Do not commit any virtual environment directories; rely on .gitignore to exclude them."